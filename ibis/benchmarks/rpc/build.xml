<!DOCTYPE project [
    <!ENTITY sharedProperties SYSTEM "../../../../build-properties.xml">
    <!ENTITY iogenTargets     SYSTEM "../../../../build-iogen.xml">
    <!ENTITY nativeTargets    SYSTEM "../../../../build-native.xml">
    <!ENTITY satinTargets     SYSTEM "../../../../build-satin.xml">
]>

<project
    name="ibis.apps.ibis.benchmarks.rpc"
    default="build"
    basedir=".">

    <description>
	Ibis application build.
    </description>

    <property name="ibis"        location="../../../.."/>

    <property name="build"       location="build"/>

    &sharedProperties;

    &iogenTargets;
    &nativeTargets;
    &satinTargets;

    <target name="init" depends="property-init">
	<tstamp/>
	<mkdir dir="${build}"/>
    </target>

    <target name="compile"
	    depends="init">
	<echo message="java.debug.value = ${java.debug.value}"/>
	<javac  destdir="${build}"
		debug="${java.debug.value}"
		srcdir=".">
	    <classpath refid="default.classpath"/>
	    <include name="*.java"/>
	</javac>
    </target>

    <target name="build"
	    depends="init">
	<echo message="package.home.ant-contrib = ${package.home.ant-contrib}"/>
	<antcall target="compile"/>
	<antcall target="iogen"/>
    </target>

    <target name="clean">
	<delete dir="${build}"/>
    </target>

</project>


